<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <base target="_blank" />
    <title>Side Trakt Options</title>
  </head>
  <body>
    <wc-trakt-extension>
      <div id="app-skeleton-container">
        <header id="app-skeleton-navbar"></header>
        <main id="app-skeleton-content">
            <svg id="app-skeleton-loader" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24">
              <rect width="7.33" height="7.33" x="1" y="1" fill="currentColor">
                <animate
                  id="svgSpinnersBlocksWave0"
                  attributeName="x"
                  begin="0;svgSpinnersBlocksWave1.end+0.2s"
                  dur="0.6s"
                  values="1;4;1"
                />
                <animate
                  attributeName="y"
                  begin="0;svgSpinnersBlocksWave1.end+0.2s"
                  dur="0.6s"
                  values="1;4;1"
                />
                <animate
                  attributeName="width"
                  begin="0;svgSpinnersBlocksWave1.end+0.2s"
                  dur="0.6s"
                  values="7.33;1.33;7.33"
                />
                <animate
                  attributeName="height"
                  begin="0;svgSpinnersBlocksWave1.end+0.2s"
                  dur="0.6s"
                  values="7.33;1.33;7.33"
                />
              </rect>
              <rect width="7.33" height="7.33" x="8.33" y="1" fill="currentColor">
                <animate
                  attributeName="x"
                  begin="svgSpinnersBlocksWave0.begin+0.1s"
                  dur="0.6s"
                  values="8.33;11.33;8.33"
                />
                <animate
                  attributeName="y"
                  begin="svgSpinnersBlocksWave0.begin+0.1s"
                  dur="0.6s"
                  values="1;4;1"
                />
                <animate
                  attributeName="width"
                  begin="svgSpinnersBlocksWave0.begin+0.1s"
                  dur="0.6s"
                  values="7.33;1.33;7.33"
                />
                <animate
                  attributeName="height"
                  begin="svgSpinnersBlocksWave0.begin+0.1s"
                  dur="0.6s"
                  values="7.33;1.33;7.33"
                />
              </rect>
              <rect width="7.33" height="7.33" x="1" y="8.33" fill="currentColor">
                <animate
                  attributeName="x"
                  begin="svgSpinnersBlocksWave0.begin+0.1s"
                  dur="0.6s"
                  values="1;4;1"
                />
                <animate
                  attributeName="y"
                  begin="svgSpinnersBlocksWave0.begin+0.1s"
                  dur="0.6s"
                  values="8.33;11.33;8.33"
                />
                <animate
                  attributeName="width"
                  begin="svgSpinnersBlocksWave0.begin+0.1s"
                  dur="0.6s"
                  values="7.33;1.33;7.33"
                />
                <animate
                  attributeName="height"
                  begin="svgSpinnersBlocksWave0.begin+0.1s"
                  dur="0.6s"
                  values="7.33;1.33;7.33"
                />
              </rect>
              <rect width="7.33" height="7.33" x="15.66" y="1" fill="currentColor">
                <animate
                  attributeName="x"
                  begin="svgSpinnersBlocksWave0.begin+0.2s"
                  dur="0.6s"
                  values="15.66;18.66;15.66"
                />
                <animate
                  attributeName="y"
                  begin="svgSpinnersBlocksWave0.begin+0.2s"
                  dur="0.6s"
                  values="1;4;1"
                />
                <animate
                  attributeName="width"
                  begin="svgSpinnersBlocksWave0.begin+0.2s"
                  dur="0.6s"
                  values="7.33;1.33;7.33"
                />
                <animate
                  attributeName="height"
                  begin="svgSpinnersBlocksWave0.begin+0.2s"
                  dur="0.6s"
                  values="7.33;1.33;7.33"
                />
              </rect>
              <rect width="7.33" height="7.33" x="8.33" y="8.33" fill="currentColor">
                <animate
                  attributeName="x"
                  begin="svgSpinnersBlocksWave0.begin+0.2s"
                  dur="0.6s"
                  values="8.33;11.33;8.33"
                />
                <animate
                  attributeName="y"
                  begin="svgSpinnersBlocksWave0.begin+0.2s"
                  dur="0.6s"
                  values="8.33;11.33;8.33"
                />
                <animate
                  attributeName="width"
                  begin="svgSpinnersBlocksWave0.begin+0.2s"
                  dur="0.6s"
                  values="7.33;1.33;7.33"
                />
                <animate
                  attributeName="height"
                  begin="svgSpinnersBlocksWave0.begin+0.2s"
                  dur="0.6s"
                  values="7.33;1.33;7.33"
                />
              </rect>
              <rect width="7.33" height="7.33" x="1" y="15.66" fill="currentColor">
                <animate
                  attributeName="x"
                  begin="svgSpinnersBlocksWave0.begin+0.2s"
                  dur="0.6s"
                  values="1;4;1"
                />
                <animate
                  attributeName="y"
                  begin="svgSpinnersBlocksWave0.begin+0.2s"
                  dur="0.6s"
                  values="15.66;18.66;15.66"
                />
                <animate
                  attributeName="width"
                  begin="svgSpinnersBlocksWave0.begin+0.2s"
                  dur="0.6s"
                  values="7.33;1.33;7.33"
                />
                <animate
                  attributeName="height"
                  begin="svgSpinnersBlocksWave0.begin+0.2s"
                  dur="0.6s"
                  values="7.33;1.33;7.33"
                />
              </rect>
              <rect width="7.33" height="7.33" x="15.66" y="8.33" fill="currentColor">
                <animate
                  attributeName="x"
                  begin="svgSpinnersBlocksWave0.begin+0.3s"
                  dur="0.6s"
                  values="15.66;18.66;15.66"
                />
                <animate
                  attributeName="y"
                  begin="svgSpinnersBlocksWave0.begin+0.3s"
                  dur="0.6s"
                  values="8.33;11.33;8.33"
                />
                <animate
                  attributeName="width"
                  begin="svgSpinnersBlocksWave0.begin+0.3s"
                  dur="0.6s"
                  values="7.33;1.33;7.33"
                />
                <animate
                  attributeName="height"
                  begin="svgSpinnersBlocksWave0.begin+0.3s"
                  dur="0.6s"
                  values="7.33;1.33;7.33"
                />
              </rect>
              <rect width="7.33" height="7.33" x="8.33" y="15.66" fill="currentColor">
                <animate
                  attributeName="x"
                  begin="svgSpinnersBlocksWave0.begin+0.3s"
                  dur="0.6s"
                  values="8.33;11.33;8.33"
                />
                <animate
                  attributeName="y"
                  begin="svgSpinnersBlocksWave0.begin+0.3s"
                  dur="0.6s"
                  values="15.66;18.66;15.66"
                />
                <animate
                  attributeName="width"
                  begin="svgSpinnersBlocksWave0.begin+0.3s"
                  dur="0.6s"
                  values="7.33;1.33;7.33"
                />
                <animate
                  attributeName="height"
                  begin="svgSpinnersBlocksWave0.begin+0.3s"
                  dur="0.6s"
                  values="7.33;1.33;7.33"
                />
              </rect>
              <rect width="7.33" height="7.33" x="15.66" y="15.66" fill="currentColor">
                <animate
                  id="svgSpinnersBlocksWave1"
                  attributeName="x"
                  begin="svgSpinnersBlocksWave0.begin+0.4s"
                  dur="0.6s"
                  values="15.66;18.66;15.66"
                />
                <animate
                  attributeName="y"
                  begin="svgSpinnersBlocksWave0.begin+0.4s"
                  dur="0.6s"
                  values="15.66;18.66;15.66"
                />
                <animate
                  attributeName="width"
                  begin="svgSpinnersBlocksWave0.begin+0.4s"
                  dur="0.6s"
                  values="7.33;1.33;7.33"
                />
                <animate
                  attributeName="height"
                  begin="svgSpinnersBlocksWave0.begin+0.4s"
                  dur="0.6s"
                  values="7.33;1.33;7.33"
                />
              </rect>
            </svg>
        </main>
        <footer id="app-skeleton-footer"></footer>
      </div>
    </wc-trakt-extension>
    <script type="module" src="./main.ts"></script>
  </body>
</html>

<style>
  html,
  body {
    overscroll-behavior: none;
    display: flex;
    flex-direction: column;
    margin: 0;
    color: rgb(235 235 235 / 64%);
    font-size: 1rem;
    background: #181818;
    transition:
      color 0.5s,
      background-color 0.5s;
    will-change: color, background-color;

    @media (prefers-color-scheme: dark) {
      background: #181818;
    }
  }

  wc-trakt-extension {
    display: flex;
    flex: 1 1 auto;
    flex-direction: column;
  }

  #app-skeleton-container {
      --skeleton-navbar-height: 44px;
      
      height: 100%;
      opacity: 1;
      transition: opacity 1s ease-in 0.2s;

      /* Adds 0.2s delay and 1s transition to loading indicator to prevent flashing */
      @starting-style {
          opacity: 0;
      }
  }

  #app-skeleton-navbar {
      width: 100%;
      height: var(--skeleton-navbar-height, 2.75rem);
      background: rgba(0 0 0 / 30%);
      backdrop-filter: blur(1px);
      transition:  all 0.5s cubic-bezier(0.4, 0, 0.2, 1);

      &:hover {
          background: rgba(0 0 0 / 60%);
          backdrop-filter: blur(20px);
      }
  }

  #app-skeleton-content {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: calc(var(--full-height, 100dvh) - var(--skeleton-navbar-height, 2.75rem) * 2)
  }
  
  #app-skeleton-loader {
      width: 3rem;
      max-width: 5dvh;
      height: 3rem;
      max-height: 5dvh;
      padding: 2rem;
  }

  #app-skeleton-footer {
      width: 100%;
      height: var(--skeleton-navbar-height, 2.75rem);
  }
</style>
